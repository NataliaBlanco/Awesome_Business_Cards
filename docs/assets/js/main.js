"use strict";const designLeyend=document.querySelector(".js-design"),arrowDesign=document.querySelector(".js-design-arrow"),fillLeyend=document.querySelector(".js-fill"),arrowFill=document.querySelector(".js-fill-arrow"),shareLeyend=document.querySelector(".js-share"),arrowShare=document.querySelector(".js-share-arrow"),designContent=document.querySelector(".js-form1"),fillContent=document.querySelector(".js-form2"),shareContent=document.querySelector(".js-form3"),cardResult=document.querySelector(".js__div"),inputName=document.querySelector(".js-input-name"),inputJob=document.querySelector(".js-input-job"),inputMail=document.querySelector(".js-input-mail"),inputPhone=document.querySelector(".js-input-phone"),inputLinkedin=document.querySelector(".js-input-linkedin"),inputGithub=document.querySelector(".js-input-github"),btnCreate=document.querySelector(".js-btn-create"),previewName=document.querySelector(".js-preview-name"),previewJob=document.querySelector(".js-preview-job"),previewPhone=document.querySelector(".js-preview-phone"),previewMail=document.querySelector(".js-preview-mail"),previewLinkedin=document.querySelector(".js-preview-linkedin"),previewGithub=document.querySelector(".js-preview-Github"),radioPallete=document.querySelector(".js-palletes"),previewPalette=document.querySelector(".js-card"),resetButton=document.querySelector(".js-reset"),fileField=document.querySelector(".js__profile-upload-btn"),profileImage=document.querySelector(".js__profile-image"),profilePreview=document.querySelector(".js__profile-preview"),data={palette:1,name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""};function closeAllSections(){designContent.classList.add("collapse"),fillContent.classList.add("collapse"),shareContent.classList.add("collapse"),arrowDesign.classList.remove("arrow-collapsed"),arrowFill.classList.remove("arrow-collapsed"),arrowShare.classList.remove("arrow-collapsed")}function openDesignSection(){designContent.classList.remove("collapse")}function handleClickDesign(e){closeAllSections(),openDesignSection(),arrowDesign.classList.add("arrow-collapsed")}function openFillSection(){fillContent.classList.remove("collapse")}function handleClickFill(e){closeAllSections(),openFillSection(),arrowFill.classList.add("arrow-collapsed")}function openShareSection(){shareContent.classList.remove("collapse")}function handleClickShare(e){closeAllSections(),openShareSection(),arrowShare.classList.add("arrow-collapsed")}function handleInputForm(e){data[e.target.name]=e.target.value,updatePreview()}function updatePreview(){""===data.name?previewName.innerHTML="Nombre Apellidos":previewName.innerHTML=data.name,previewMail.href="mailto:"+data.email,""===data.job?previewJob.innerHTML="Front-end developer":previewJob.innerHTML=data.job,previewPhone.href="tel:"+data.phone,previewLinkedin.href="https://www.linkedin.com/in/"+data.linkedin,previewGithub.href="https://github.com/"+data.github}function showColors(e){let t=e.target.value;"2"===t?(previewPalette.classList.remove("palette1"),previewPalette.classList.remove("palette3"),previewPalette.classList.add("palette2")):"3"===t?(previewPalette.classList.remove("palette1"),previewPalette.classList.remove("palette2"),previewPalette.classList.add("palette3")):(previewPalette.classList.remove("palette3"),previewPalette.classList.remove("palette2"),previewPalette.classList.add("palette1")),data.palette=t}function resetData(){previewName.innerHTML="Nombre Apellido",previewMail.href="",previewJob.innerHTML="Front-end developer",previewPhone.href="",previewLinkedin.href="",previewGithub.href="",inputName.value="",inputJob.value="",inputMail.value="",inputPhone.value="",inputLinkedin.value="",inputGithub.value="",profilePreview.style.backgroundImage="",profileImage.style.backgroundImage="",previewPalette.classList.remove("palette3"),previewPalette.classList.remove("palette2"),previewPalette.classList.add("palette1")}closeAllSections(),openDesignSection(),designLeyend.addEventListener("click",handleClickDesign),fillLeyend.addEventListener("click",handleClickFill),shareLeyend.addEventListener("click",handleClickShare);const allInputsList=document.querySelectorAll(".js_input");for(let e=0;e<allInputsList.length;e++)allInputsList[e].addEventListener("input",handleInputForm);radioPallete.addEventListener("click",showColors),resetButton.addEventListener("click",resetData);let urlCard="";function renderSectionShare(){let e=`\n    <h2 class="js__h2">La tarjeta ha sido creada:</h2>\n    <a class="js__link_card" href="${urlCard}" target="_blank">${urlCard}</a>\n   <button class="js__twitter_button">\n   <i class="fab fa-twitter"></i>\n   <a class="url-link-twitter" href="https://twitter.com/intent/tweet?text=This%20is%20my%20bussiness%20card:&url=${urlCard}" target="_blank"> Compartir en Twitter</a>\n    </button>\n    <hr class="js__hr" />`;cardResult.innerHTML=e}function handleClickCreate(e){e.preventDefault(),console.log("he hecho click"),fetch("https://dev.adalab.es/api/card/",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(data)}).then(e=>e.json()).then(e=>{!1===e.success?(console.log("error"),console.log(e)):(btnCreate.classList.add("hidden"),urlCard=e.cardURL,renderSectionShare())}),localStorage.setItem("saveData",JSON.stringify(data))}btnCreate.addEventListener("click",handleClickCreate);const fr=new FileReader;function getImage(e){const t=e.currentTarget.files[0];fr.addEventListener("load",writeImage),fr.readAsDataURL(t)}function writeImage(){profileImage.style.backgroundImage=`url(${fr.result})`,profilePreview.style.backgroundImage=`url(${fr.result})`,data.photo=fr.result}fileField.addEventListener("change",getImage);